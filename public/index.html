<html>
<head>
<meta charset="utf-8">
<meta name="description" content="Sensing driving behaviors.">

<title>DriveSense</title>
<link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="/carousel.css">
<link href="/car.jpg" rel="shortcut icon" type="image/x-icon">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script> 
<script src="/bower_components/jquery/dist/jquery.min.js"></script> 
<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
</head>
<body onload="showUserName()">
  <div id="header"></div>

  <!-- Carousel================================================== -->
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
      <div class="item active">
        <img class="first-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="First slide">
        <div class="container">
          <div class="carousel-caption">
              <h1>Recording History Trips</h1> 
              <p><a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a></p>
            </div>
          </div>
        </div>
        <div class="item">
          <img class="second-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Second slide">
          <div class="container">
            <div class="carousel-caption">
              <h1>Scoring Your Trip</h1>     
              <p><a class="btn btn-lg btn-primary" href="#" role="button">Learn more</a></p>
            </div>
          </div>
        </div>
        <div class="item">
          <img class="third-slide" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Third slide">
          <div class="container">
            <div class="carousel-caption">
              <h1>Capturing Driving Behaviors</h1>
              <p><a class="btn btn-lg btn-primary" href="#" role="button">Download Our App</a></p>
            </div>
          </div>
        </div>
      </div>
      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div><!-- /.carousel -->

 
  <div class="container">
    <hr class="featurette-divider">
      <div class="row featurette">
        <div class="col-md-7">
          <h2 class="featurette-heading">First featurette heading. <span class="text-muted">It'll blow your mind.</span></h2>
          <p class="lead"> tellus ac cursus commodo.</p>
        </div>
        <div class="col-md-5">
          <img class="featurette-image img-responsive center-block" src="./car.jpg" alt="Generic placeholder image">
        </div>
      </div>
      <hr class="featurette-divider">

      <div class="row featurette">
        <div class="col-md-7">
          <h2 class="featurette-heading">And lastly, this one. <span class="text-muted">Checkmate.</span></h2>
          <p class="lead"> Fusce dapibus, tellus ac cursus commodo.</p>
        </div>
        <div class="col-md-5">
          <img class="featurette-image img-responsive center-block" src="./car.jpg" alt="Generic placeholder image">
        </div>
      </div>

      <hr class="featurette-divider">
   </div>


   <div class="container">
    <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
      <p>&copy; 2016 DriveSense</p>
    </footer>
  </div>

<script>

$(document).ready(function(){
  $("#header").load("navbar.html");
});


var validateSignInForm = function() {
  var email = document.forms["signinform"]["email"].value; 
  var password = document.forms["signinform"]["password"].value; 
   if(email == '' || password == '') {
    alert("Email and password cannot be empty");
    return null;
  }
  var signin = {
    email: email,
    password: password,
  };  
  return signin;
}


var submitSignIn = function() {

  var signin = validateSignInForm(); 
  if (signin == null) {
    return;
  } 

  var posturl = window.location.origin + "/signin";

  var signinpost = $.ajax({
    type: 'POST', 
    url: posturl, 
    data: signin,
  });
  signinpost.error(function() {
    alert("Sign In Failure");
  });
  signinpost.success(function(msg, status){
    if(status == "success") {
      console.log(msg);
      location.reload(); 
    } else {
      console.log(status);
    } 
  }); 
}


var validateSignUpForm = function() {
  var firstname = document.forms["signupform"]["firstname"].value; 
  var lastname = document.forms["signupform"]["lastname"].value; 
  var email = document.forms["signupform"]["email"].value; 
  var password = document.forms["signupform"]["password"].value; 
  var repeat = document.forms["signupform"]["repeat"].value; 
  if(firstname == '' || lastname == '') {
    alert("Name cannot be empty");
    return null;
  } 
  if(email == '' || password == '' || repeat == '') {
    alert("Email and password cannot be empty");
    return null;
  }
  if(email.indexOf("@") == -1) {
    alert("Email format is incorrect");
    return null;
  }
  if(password != repeat) {
    alert("Passwords not match");
    return null;
  }
  var signup = {
    firstname: firstname,
    lastname: lastname,
    email: email,
    password: password,
    repeat: repeat
  };  
  return signup;
}

var submitSignUp = function() {

  var signup = validateSignUpForm(); 
  if (signup == null) {
    return;
  } 

  var posturl = window.location.origin + "/signup";

  var signuppost = $.ajax({
    type: 'POST', 
    url: posturl, 
    data: signup,
  });
  signuppost.error(function() {
    alert("Sign Up Failure");
  });
  signuppost.success(function(msg, status){
    if(status == "success") {
      console.log(msg);
      location.reload();
    } else {
      console.log(status);
    } 
  }); 
}

</script>



 
<script src="user.js"></script> 

</body>

</html>
